# 条款7 为多态基类声明virtual析构函数

 当我们使用一个basic class和一些derived class的时候，可以设计一个工厂函数，返回指向basic class的指针，该指针可以指向新生成的derived class。
 但是这可能会带来内存泄漏的安全隐患，因此我们必须要保证生成的对象出于heap内，以方便我们使用delete进行内存回收.

但是这也会带来许多潜在的问题，如果定义的basic class没有声明virtual析构函数，那么带来的问题就是在delete时调用的是basic class析构函数，会导致对象内的derived成分没有被销毁。解铃还须系铃人，我们需要声明一个virtual析构函数，保证删除时充分销毁整个对象。
因此，我们也可以说，当class不包含virtual析构函数时，可以说它还没有准备好作为一个basic class使用。

有一个非常经典的值得探讨的问题就是，std::string并不包含任何的virtual函数，因此其是完全不适合作为basic class的， 继承此类的行为应当是被明确禁止的。

析构函数的运作凡事是，最先被派生的class所定义的析构函数被调用，然后依次顺着继承关系向上。

给basic class一个vertual析构函数的定理只适用于带有多态性质的basic class。相反，如果不是为了多态使用，就不应该声明virtual析构函数。
