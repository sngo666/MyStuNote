# 条款16 成对使用new和delete时要采取相同形式

使用new和delete时要成对使用仅仅满足最低要求，更要满足采取配对的形式，如果你定义了`new []`，那么与之相对应的也要使用`delete []`。

当使用了new时会发生甚么事情，首先，内存会被分配出来，然后会有至少一个构造函数被调用，delete则逆向这个过程，问题在于，当你使用delete时，会有多少对象执行析构函数，而实际上又应该有多少？使用`delete[]`并未声明数组的长度。

内存布局上，delete会读取若干内存并将其解释为“数组大小”,并尝试多次调用析构函数。所以规则会简单，`new`对应`delete`，`new []`对应`delete []`，尽管规则简单，但是在设计复杂的构造/析构系统，即我们所要求的的RAII结构中，会导致相当棘手的难题。

这个规则对于习惯使用typedef的人也很重要，因此必须要说清楚，当以new创建typedef的对象时，必须要以哪种形式将其删除之。因此9，最好尽量不要对数组形式使用typedef动作。