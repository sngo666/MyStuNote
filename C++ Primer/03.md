# 第四章 表达式

* 重载无法改变运算符的优先级，结合律和运算对象的个数。
* 后置自增自减运算符优先级高于前置的。
* 编程当中应该尽量使用前置递增递减。
* 对于没有指定执行顺序的运算符来说，如果表达式指向并修改了同一个对象，将会引发并产生错误的未定义行为，有四种运算符明确定义了运算对象的求值顺序：三种逻辑运算符和逗号运算符。如果表达式里的运算对象互不相干，是不会出现这种情况的。且当改变运算对象的子表达式本身是另外一个子表达式的运算对象时该规则无效。

* 一元正号运算符，一元负号运算符都能作用于指针，当一个正号运算符作用于一个指针或者算术值时，返回运算对象值一个提升后的副本。
* (-m)%n被处理为-(m%n),m%(-n)被处理为m%n
* 逻辑运算符都是先求左侧值，当左侧值无法确定表达式的值之后才会求右侧表达式的值，这种策略被称为短路求值。
* 进行比较运算时除非比较的对象是布尔类型，否则不要使用布尔字面值的true和false作为比较对象。

* 如果我们使用列表初始化为变量进行初始化且存在丢失信息的风险时，编译器会报错。
* 一定要记得点运算符的优先级高于解引用运算符。

* 当条件运算符(?:)的两个表达式是可以表示为同一种左值类型时，运算的结果是左值，否则表达式的结果是右值。同时条件运算符满足右结合性。

* 强烈建议仅将位运算用于无符号数。

## 关于sizeof

* sizeof不需要加括号，因为并不是库函数，而是关键字。
* 在sizeof中解引用一个无效指针依然是安全的行为，因为并没有真正使用这个指针，不需要真正的解引用指针的对象也能够知道其类型。

* 对string或vector对象执行sizeof运算只返回该类型固定部分的大小，不会计算对象中的元素占用多少空间。比如对vector使用sizeof可以发现结果固定为24(具体细节可以查阅STL源代码)