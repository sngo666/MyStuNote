# 第三章 字符串、向量和数组

* `std::cin`中的`::`叫做作用域操作符。
* 头文件不应使用using声明。
* 定义变量时带等号的叫做拷贝初始化，只有括号时叫做直接初始化。

## string类型

* 执行读取操作时，string对象会忽略开头的空白(空格换行制表符)并从第一个真正的字符开始，直到遇见下一处空白。
* getline会读取一整行，包括换行符，但是录入string时不会录入换行符。
* 对于string类对象来说，size返回一个string::size_type类型，可以理解成一个无符号整型，需要注意的是一个无符号数。
* 两个string类对象，一个string类对象和一个字符串都可以相加，但是两个字符串不能够相加，其本质是字符数组指针。

* 访问字符串指定位置之前最好判断是否会有越界行为。

## 标准库类型vector

* 不存在包含引用的vector
* 除了直接初始化，拷贝初始化，vector还支持列表初始化。对于多个元素的初始化，只能使用列表初始化`{}
* 进行列表初始化发生值不匹配的时候，会进行构造函数的参数匹配尝试。
* vector对象能够高效地添加元素，定义时设定大小不仅不方便，也会影响性能。
* 如果循环体内部有向vector添加元素的语句，那么不能够使用范围for(foreach)
* 对于容器来说，size_type首先需要指明是哪种类型定义的，如`vector<int>::size_type`
* 只有当vector内的元素可以比较时，vector才是可以比较的，比较时按字典顺序比较，如果值相同容量不等，容量小的vector值较小。
  
## 使用迭代器

* end()返回迭代器尾元素的下一个位置，即该迭代器指示的是容器一个本不存在的"尾后"元素。若容器为空，则begin和end返回的是同一个迭代器
* begin和end返回的迭代器类型由指向是否为常量决定，如果是，会返回const_iterator。我们也可以使用cbgin和cend强制返回const类型。
* 任何一种可能改变vector对象容量的操作，都会使迭代器失效。
* 迭代器相减表明两个迭代器之间的距离，但是不存在相加，相关迭代器的差类型为`difference_type`，是一个带符号类型的整数。

## 数组

* 数组中的元素也属于数组的一部分，因此在编译的时候应当保证数组的维度是已知的，必须是一个常量表达式。
* 数组的初始化和赋值均不支持拷贝。
* 数组类型符号优先级高于指针类型符号。
* 对数组取地址表示数组的整块空间的起始地址，差异表现为加减一个常量的结果不同。
* 如果在函数内部定义没有初始化的数组，数组内的元素将不会被默认初始化，可以在定义时进行一个空列表初始化为0.
* 数组通过下标访问元素是语言定义的，而vector所支持的下标访问是vector所定义的。使用数组下标访问数组元素时，通常将类型定义为size_t类型。
* 使用数组的时候编译器一般会将其转换成指针，且在很多需要使用到数组名称的地方，编译器都会将其自动替换为指向数组首元素的指针。通俗来说，就是数组名等于数组当中第一个元素的首地址。
* 在一些情况下数组的操作其实是指针的操作，当使用数组作为auto变量的初始值时，推断得到的类型是指针而非数组。必须指出的是，使用decltype关键字时上述转换不会发生，依然是返回具有固定元素数量的同类型数组。
* C++11引入begin()和end()两个函数以获得数组的首个元素和最后一个元素，参数时数组。该函数定义在iterator头文件中。
* 指针加上一个整数必须要保证不越界，且表达式值不能够解引用。
* 数组下标在某种情况下可以取赋值(比如对于数组中间的指针向低下标方向取值)，但是标准库中的下标运算是不可以的

## C风格字符串

* C语言中字符串本质是字符数组，并在最后一位放置字符串结束符。C风格字符串在代码上非常不方便而且存在漏洞，应当尽量避免使用。
* 对于大部分代码来说，使用标准库string类对象更安全且更高效。

## 关于如何实现C++与旧代码的接口

* string类与字符数组的转换支持加号两侧至少有一个是string类对象的前提下的赋值。
* string类提供c_str()方法转换为c代码的字符串。而实际上该方法的返回值不一定有效:当我们使用一个常量字符串指针指向调用此方法的返回的字符串，字符串内容改变时，该常量也会发生改变。
* cstring和string不是一个文件。
* 通过使用传递begin(arr)和end(arr)初始化vector的方式来将数组初始化vector。

## 多维数组

* 通常意义上的多维数组就是数组的数组。
* 使用auto检测多维数组的元素时，也会自动识别为指针。
* 在声明(定义)语句中，数组符号的优先级高于指针，所以需要声明指向数组的指针时，需要加上括号，如`int (*arr)[4]`。
* 建议使用using或者typedef使代码更具可读性。
